<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:system="clr-namespace:System;assembly=mscorlib">

    <FontFamily x:Key="ModernFontFamily">Segoe UI Variable Text, Segoe UI, Tahoma, Geneva, Verdana, sans-serif</FontFamily>
    <system:Double x:Key="ModernBaseFontSize">14</system:Double>
    <system:Double x:Key="ModernSmallFontSize">12</system:Double>
    <FontWeight x:Key="ModernFontWeightRegular">Regular</FontWeight>
    <FontWeight x:Key="ModernFontWeightSemiBold">SemiBold</FontWeight>

    <Color x:Key="ModernBackgroundColor">#FF0A0A0A</Color>
    <Color x:Key="ModernForegroundColor">#FFF5F5F5</Color>
    <Color x:Key="ModernLighterBackgroundColor">#FF1A1A1A</Color>
    <Color x:Key="ModernEvenLighterBackgroundColor">#FF252525</Color>
    <Color x:Key="ModernBorderColor">#FF3A3A3A</Color>
    <Color x:Key="ModernControlMouseOverColor">#FF2A2A2A</Color>
    <Color x:Key="ModernControlPressedColor">#FF353535</Color>
    <Color x:Key="ModernDisabledForegroundColor">#FF666666</Color>
    <Color x:Key="ModernDisabledBackgroundColor">#FF151515</Color>
    <Color x:Key="ModernAccentColor">#FF4CC2FF</Color>
    <Color x:Key="ModernAccentMouseOverColor">#FF6CCFFF</Color>
    <Color x:Key="ModernAccentPressedColor">#FF2BA5F7</Color>
    <Color x:Key="ModernAccentContrastColor">#FF000000</Color>
    <Color x:Key="ModernGlyphColor">#FFF5F5F5</Color>
    <Color x:Key="ModernSecondaryTextColor">#FF999999</Color>
    <Color x:Key="ModernErrorColor">#FFFF5252</Color>
    <Color x:Key="ModernSuccessColor">#FF4CAF50</Color>
    <Color x:Key="ModernWarningColor">#FFFFAB40</Color>
    <Color x:Key="ModernInfoColor">#FF40C4FF</Color>
    <Color x:Key="ModernSurfaceColor">#FF121212</Color>
    <Color x:Key="ModernCardColor">#FF1E1E1E</Color>

    <SolidColorBrush x:Key="ModernBackgroundBrush" Color="{StaticResource ModernBackgroundColor}"/>
    <SolidColorBrush x:Key="ModernForegroundBrush" Color="{StaticResource ModernForegroundColor}"/>
    <SolidColorBrush x:Key="ModernLighterBackgroundBrush" Color="{StaticResource ModernLighterBackgroundColor}"/>
    <SolidColorBrush x:Key="ModernEvenLighterBackgroundBrush" Color="{StaticResource ModernEvenLighterBackgroundColor}"/>
    <SolidColorBrush x:Key="ModernBorderBrush" Color="{StaticResource ModernBorderColor}"/>
    <SolidColorBrush x:Key="ModernControlMouseOverBrush" Color="{StaticResource ModernControlMouseOverColor}"/>
    <SolidColorBrush x:Key="ModernControlPressedBrush" Color="{StaticResource ModernControlPressedColor}"/>
    <SolidColorBrush x:Key="ModernDisabledForegroundBrush" Color="{StaticResource ModernDisabledForegroundColor}"/>
    <SolidColorBrush x:Key="ModernDisabledBackgroundBrush" Color="{StaticResource ModernDisabledBackgroundColor}"/>
    <SolidColorBrush x:Key="ModernAccentBrush" Color="{StaticResource ModernAccentColor}"/>
    <SolidColorBrush x:Key="ModernAccentMouseOverBrush" Color="{StaticResource ModernAccentMouseOverColor}"/>
    <SolidColorBrush x:Key="ModernAccentPressedBrush" Color="{StaticResource ModernAccentPressedColor}"/>
    <SolidColorBrush x:Key="ModernAccentContrastBrush" Color="{StaticResource ModernAccentContrastColor}"/>
    <SolidColorBrush x:Key="ModernGlyphBrush" Color="{StaticResource ModernGlyphColor}"/>
    <SolidColorBrush x:Key="ModernSecondaryTextBrush" Color="{StaticResource ModernSecondaryTextColor}"/>
    <SolidColorBrush x:Key="ModernErrorBrush" Color="{StaticResource ModernErrorColor}"/>
    <SolidColorBrush x:Key="ModernSuccessBrush" Color="{StaticResource ModernSuccessColor}"/>
    <SolidColorBrush x:Key="ModernWarningBrush" Color="{StaticResource ModernWarningColor}"/>
    <SolidColorBrush x:Key="ModernInfoBrush" Color="{StaticResource ModernInfoColor}"/>
    <SolidColorBrush x:Key="ModernSurfaceBrush" Color="{StaticResource ModernSurfaceColor}"/>
    <SolidColorBrush x:Key="ModernCardBrush" Color="{StaticResource ModernCardColor}"/>

    <Style x:Key="ModernFocusVisualStyle">
        <Setter Property="Control.Template">
            <Setter.Value>
                <ControlTemplate>
                    <Rectangle Margin="-2" StrokeThickness="2" Stroke="{StaticResource ModernAccentBrush}" RadiusX="4" RadiusY="4"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Animation Durations -->
    <Duration x:Key="FastAnimationDuration">0:0:0.15</Duration>
    <Duration x:Key="MediumAnimationDuration">0:0:0.3</Duration>
    <Duration x:Key="SlowAnimationDuration">0:0:0.5</Duration>

    <!-- Easing Functions -->
    <CubicEase x:Key="StandardEase" EasingMode="EaseInOut"/>
    <ExponentialEase x:Key="ExpEaseOut" EasingMode="EaseOut" Exponent="4"/>
    <QuadraticEase x:Key="QuadEaseInOut" EasingMode="EaseInOut"/>

    <Style TargetType="Window">
        <Setter Property="Background" Value="{StaticResource ModernBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
    </Style>
    <Style TargetType="Page">
        <Setter Property="Background" Value="{StaticResource ModernBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
    </Style>

    <Style TargetType="TextBlock">
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="TextWrapping" Value="Wrap"/>
        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
    </Style>
    <Style x:Key="SecondaryTextBlockStyle" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
        <Setter Property="Foreground" Value="{StaticResource ModernSecondaryTextBrush}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernSmallFontSize}"/>
    </Style>

    <Style TargetType="Label">
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="Padding" Value="5"/>
    </Style>

    <Style TargetType="ScrollViewer">
        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        <Setter Property="HorizontalScrollBarVisibility" Value="Auto"/>
        <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
        <Setter Property="Focusable" Value="True"/>
        <Setter Property="PanningMode" Value="Both"/>
    </Style>

    <Style TargetType="Button">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="10,6"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="ButtonBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="6" Padding="{TemplateBinding Padding}"
                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                        <Border.RenderTransform>
                            <ScaleTransform x:Name="ButtonScale" ScaleX="1" ScaleY="1"/>
                        </Border.RenderTransform>
                        <Border.RenderTransformOrigin>0.5,0.5</Border.RenderTransformOrigin>
                        <Border.Effect>
                            <DropShadowEffect x:Name="ButtonShadow" BlurRadius="8" ShadowDepth="2" 
                                            Direction="270" Color="Black" Opacity="0"/>
                        </Border.Effect>
                        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                          RecognizesAccessKey="True"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="ButtonBorder" 
                                                      Storyboard.TargetProperty="Background.Color"
                                                      To="{StaticResource ModernControlMouseOverColor}"
                                                      Duration="{StaticResource FastAnimationDuration}"
                                                      EasingFunction="{StaticResource StandardEase}"/>
                                        <ColorAnimation Storyboard.TargetName="ButtonBorder"
                                                      Storyboard.TargetProperty="BorderBrush.Color"
                                                      To="{StaticResource ModernAccentColor}"
                                                      Duration="{StaticResource FastAnimationDuration}"
                                                      EasingFunction="{StaticResource StandardEase}"/>
                                        <DoubleAnimation Storyboard.TargetName="ButtonShadow"
                                                       Storyboard.TargetProperty="Opacity"
                                                       To="0.3"
                                                       Duration="{StaticResource FastAnimationDuration}"
                                                       EasingFunction="{StaticResource StandardEase}"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="ButtonBorder"
                                                      Storyboard.TargetProperty="Background.Color"
                                                      To="{StaticResource ModernLighterBackgroundColor}"
                                                      Duration="{StaticResource FastAnimationDuration}"
                                                      EasingFunction="{StaticResource StandardEase}"/>
                                        <ColorAnimation Storyboard.TargetName="ButtonBorder"
                                                      Storyboard.TargetProperty="BorderBrush.Color"
                                                      To="{StaticResource ModernBorderColor}"
                                                      Duration="{StaticResource FastAnimationDuration}"
                                                      EasingFunction="{StaticResource StandardEase}"/>
                                        <DoubleAnimation Storyboard.TargetName="ButtonShadow"
                                                       Storyboard.TargetProperty="Opacity"
                                                       To="0"
                                                       Duration="{StaticResource FastAnimationDuration}"
                                                       EasingFunction="{StaticResource StandardEase}"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                       Storyboard.TargetProperty="ScaleX"
                                                       To="0.95"
                                                       Duration="0:0:0.05"/>
                                        <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                       Storyboard.TargetProperty="ScaleY"
                                                       To="0.95"
                                                       Duration="0:0:0.05"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                       Storyboard.TargetProperty="ScaleX"
                                                       To="1"
                                                       Duration="0:0:0.1"
                                                       EasingFunction="{StaticResource ExpEaseOut}"/>
                                        <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                       Storyboard.TargetProperty="ScaleY"
                                                       To="1"
                                                       Duration="0:0:0.1"
                                                       EasingFunction="{StaticResource ExpEaseOut}"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                            <Setter Property="Background" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter Property="BorderBrush" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter TargetName="ButtonBorder" Property="Opacity" Value="0.6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="AccentButtonStyle" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="Background" Value="{StaticResource ModernAccentBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernAccentContrastBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernAccentMouseOverBrush}" />
                <Setter Property="BorderBrush" Value="{StaticResource ModernAccentMouseOverBrush}"/>
            </Trigger>
            <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernAccentPressedBrush}" />
                <Setter Property="BorderBrush" Value="{StaticResource ModernAccentPressedBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                <Setter Property="Background" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                <Setter Property="BorderBrush" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="TextBox">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="6,4"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="CaretBrush" Value="{StaticResource ModernForegroundBrush}" />
        <Setter Property="SelectionBrush" Value="{StaticResource ModernAccentBrush}" />
        <Setter Property="AllowDrop" Value="true"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3"
                            SnapsToDevicePixels="True">
                        <ScrollViewer x:Name="PART_ContentHost"
                                      Focusable="false"
                                      HorizontalScrollBarVisibility="Hidden"
                                      VerticalScrollBarVisibility="Hidden"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="border" Property="BorderThickness" Value="1.5"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="PasswordBox">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="6,4"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="CaretBrush" Value="{StaticResource ModernForegroundBrush}" />
        <Setter Property="SelectionBrush" Value="{StaticResource ModernAccentBrush}" />
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="PasswordBox">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3"
                            SnapsToDevicePixels="True">
                        <ScrollViewer x:Name="PART_ContentHost"
                                      Focusable="false"
                                      HorizontalScrollBarVisibility="Hidden"
                                      VerticalScrollBarVisibility="Hidden"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="border" Property="BorderThickness" Value="1.5"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ComboBoxToggleButtonModernStyle" TargetType="ToggleButton">
        <Setter Property="OverridesDefaultStyle" Value="true"/>
        <Setter Property="Focusable" Value="false"/>
        <Setter Property="ClickMode" Value="Press"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ToggleButton">
                    <Border x:Name="templateRoot"
                            Background="{Binding Background, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                            BorderBrush="{Binding BorderBrush, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                            BorderThickness="{Binding BorderThickness, RelativeSource={RelativeSource AncestorType=ComboBox}}"
                            CornerRadius="3" SnapsToDevicePixels="true">
                        <Border x:Name="splitBorder" BorderThickness="0" HorizontalAlignment="Right" Margin="0,0,4,0" SnapsToDevicePixels="true" >
                            <Path x:Name="arrow" Data="M0,0 L3.5,3.5 L7,0 Z" Fill="{Binding Foreground, RelativeSource={RelativeSource AncestorType=ComboBox}}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter TargetName="arrow" Property="Fill" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                            <Setter TargetName="templateRoot" Property="Background" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter TargetName="templateRoot" Property="BorderBrush" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                        </Trigger>
                        <Trigger Property="IsChecked" Value="true">
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="ComboBox">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="6,4"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
        <Setter Property="ScrollViewer.CanContentScroll" Value="true"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="MaxDropDownHeight" Value="200"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBox">
                    <Grid x:Name="templateRoot" SnapsToDevicePixels="true">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition MinWidth="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Popup x:Name="PART_Popup"
                               AllowsTransparency="true"
                               Grid.ColumnSpan="2"
                               IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                               Placement="Bottom"
                               PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}"
                               StaysOpen="False">
                            <Border x:Name="dropDownBorder"
                                    Background="{StaticResource ModernEvenLighterBackgroundBrush}" BorderBrush="{StaticResource ModernBorderBrush}"
                                    BorderThickness="1"
                                    CornerRadius="3"
                                    MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                <ScrollViewer x:Name="DropDownScrollViewer" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                    <ItemsPresenter x:Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Contained" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                </ScrollViewer>
                            </Border>
                        </Popup>
                        <ToggleButton x:Name="toggleButton"
                                      Background="{TemplateBinding Background}"
                                      BorderBrush="{TemplateBinding BorderBrush}"
                                      BorderThickness="{TemplateBinding BorderThickness}"
                                      Grid.Column="0" Grid.ColumnSpan="2"
                                      IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                                      Style="{StaticResource ComboBoxToggleButtonModernStyle}"/>
                        <ContentPresenter x:Name="contentPresenter"
                                          ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                          ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                          Content="{TemplateBinding SelectionBoxItem}"
                                          ContentStringFormat="{TemplateBinding SelectionBoxItemStringFormat}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          IsHitTestVisible="false"
                                          Margin="{TemplateBinding Padding}"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="HasItems" Value="false">
                            <Setter TargetName="dropDownBorder" Property="MinHeight" Value="95"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="true">
                            <Setter TargetName="toggleButton" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocusWithin" Value="true">
                            <Setter TargetName="toggleButton" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="toggleButton" Property="BorderThickness" Value="1.5"/>
                        </Trigger>
                        <Trigger SourceName="PART_Popup" Property="IsOpen" Value="True">
                            <Setter TargetName="toggleButton" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="toggleButton" Property="BorderThickness" Value="1.5"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="ComboBoxItem">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="8,6"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBoxItem">
                    <Border x:Name="Bd"
                            Padding="{TemplateBinding Padding}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            SnapsToDevicePixels="true">
                        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource ModernControlMouseOverBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Bd" Property="Background" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource ModernAccentContrastBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                            <Setter TargetName="Bd" Property="Background" Value="Transparent"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


    <Style TargetType="CheckBox">
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Padding" Value="5,0,0,0"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <Grid Background="Transparent">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Border x:Name="checkBoxBorder"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1.5"
                                Background="{TemplateBinding Background}"
                                CornerRadius="3"
                                Width="18" Height="18"
                                VerticalAlignment="Center">
                            <Path x:Name="optionMark"
                                  Data="M4,8 L7,11 L13,5" Stretch="Uniform" StrokeThickness="2.5"
                                  Stroke="{StaticResource ModernGlyphBrush}" Opacity="0"
                                  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ContentPresenter Grid.Column="1" Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center" RecognizesAccessKey="True"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="optionMark" Property="Opacity" Value="1"/>
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="optionMark" Property="Stroke" Value="{StaticResource ModernAccentContrastBrush}"/>
                        </Trigger>
                        <Trigger Property="IsChecked" Value="{x:Null}">
                            <Setter TargetName="optionMark" Property="Opacity" Value="1"/>
                            <Setter TargetName="optionMark" Property="Data" Value="M4,9 L13,9"/>
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter TargetName="optionMark" Property="Stroke" Value="{StaticResource ModernAccentContrastBrush}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{StaticResource ModernDisabledBackgroundBrush}"/>
                            <Setter TargetName="optionMark" Property="Stroke" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Simple TabControl styling without custom template -->
    <Style TargetType="TabControl">
        <Setter Property="Background" Value="{StaticResource ModernBackgroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="5"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
    </Style>

    <!-- TabItem with custom template to ensure text visibility -->
    <Style TargetType="TabItem">
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="Background" Value="#FF2D2D30"/>
        <Setter Property="BorderBrush" Value="#FF3F3F46"/>
        <Setter Property="Padding" Value="10,6"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabItem">
                    <Grid>
                        <Border Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1,1,1,0"
                                CornerRadius="4,4,0,0"
                                Margin="0,0,2,0">
                            <ContentPresenter x:Name="ContentSite"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Center"
                                            ContentSource="Header"
                                            Margin="{TemplateBinding Padding}"
                                            RecognizesAccessKey="True"/>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#FF3F3F46"/>
                            <Setter TargetName="Border" Property="BorderBrush" Value="#FF007ACC"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter TargetName="Border" Property="Margin" Value="0,0,2,-1"/>
                            <Setter Property="FontWeight" Value="SemiBold"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#FF353538"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="False">
                            <Setter Property="Foreground" Value="#FFB0B0B0"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="ListView">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="AlternationCount" Value="2"/>
    </Style>

    <Style TargetType="ListViewItem">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderThickness" Value="0,0,0,1"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="Padding" Value="8,6"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
        <Style.Triggers>
            <Trigger Property="ItemsControl.AlternationIndex" Value="1">
                <Setter Property="Background" Value="{StaticResource ModernEvenLighterBackgroundBrush}"/>
            </Trigger>
            <!-- Removed hover effect for ListViewItem
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernControlMouseOverBrush}"/>
            </Trigger>
            -->
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernAccentBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource ModernAccentContrastBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
                <Setter Property="Background" Value="Transparent"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="GridViewColumnHeader">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0,0,1,1"/>
        <Setter Property="Padding" Value="8,5"/>
        <Setter Property="FontWeight" Value="{StaticResource ModernFontWeightSemiBold}"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
    </Style>

    <Style TargetType="DataGrid">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="VerticalGridLinesBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="RowBackground" Value="{StaticResource ModernLighterBackgroundBrush}" />
        <Setter Property="AlternatingRowBackground" Value="{StaticResource ModernEvenLighterBackgroundBrush}" />
        <Setter Property="HeadersVisibility" Value="Column"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="GridLinesVisibility" Value="Horizontal"/>
    </Style>

    <Style TargetType="DataGridRow">
        <Setter Property="Background" Value="{Binding Path=Background, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="SnapsToDevicePixels" Value="true"/>
        <Setter Property="FocusVisualStyle" Value="{StaticResource ModernFocusVisualStyle}"/>
        <Style.Triggers>
            <Trigger Property="AlternationIndex" Value="1">
                <Setter Property="Background" Value="{Binding Path=AlternatingRowBackground, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"/>
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernControlMouseOverBrush}"/>
            </Trigger>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernAccentBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource ModernAccentContrastBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Foreground" Value="{StaticResource ModernDisabledForegroundBrush}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="DataGridCell">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="8,5"/>
        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        <Style.Triggers>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Foreground" Value="{StaticResource ModernAccentContrastBrush}"/>
            </Trigger>
            <Trigger Property="IsEditing" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernEvenLighterBackgroundBrush}"/>
                <Setter Property="BorderBrush" Value="{StaticResource ModernAccentBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="DataGridColumnHeader">
        <Setter Property="Background" Value="{StaticResource ModernLighterBackgroundBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0,0,0,2"/>
        <Setter Property="Padding" Value="8,6"/>
        <Setter Property="FontWeight" Value="{StaticResource ModernFontWeightSemiBold}"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
    </Style>

    <!-- ScrollBar Thumb Style -->
    <Style x:Key="ScrollBarThumb" TargetType="Thumb">
        <Setter Property="Background" Value="#FF5A5A5D"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Thumb">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#FF7A7A7D"/>
            </Trigger>
            <Trigger Property="IsDragging" Value="True">
                <Setter Property="Background" Value="{StaticResource ModernAccentBrush}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- ScrollBar RepeatButton (for track) -->
    <Style x:Key="ScrollBarPageButton" TargetType="RepeatButton">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RepeatButton">
                    <Border Background="Transparent"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ScrollBar Style -->
    <Style TargetType="ScrollBar">
        <Setter Property="Background" Value="#FF2D2D30"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Width" Value="14"/>
        <Setter Property="MinWidth" Value="14"/>
        <Style.Triggers>
            <Trigger Property="Orientation" Value="Horizontal">
                <Setter Property="Height" Value="14"/>
                <Setter Property="MinHeight" Value="14"/>
                <Setter Property="Width" Value="Auto"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ScrollBar">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Border Background="{TemplateBinding Background}" CornerRadius="7"/>
                                <Track x:Name="PART_Track" IsDirectionReversed="False">
                                    <Track.DecreaseRepeatButton>
                                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageLeftCommand"/>
                                    </Track.DecreaseRepeatButton>
                                    <Track.Thumb>
                                        <Thumb Style="{StaticResource ScrollBarThumb}" Margin="2"/>
                                    </Track.Thumb>
                                    <Track.IncreaseRepeatButton>
                                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageRightCommand"/>
                                    </Track.IncreaseRepeatButton>
                                </Track>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
            <Trigger Property="Orientation" Value="Vertical">
                <Setter Property="Height" Value="Auto"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ScrollBar">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Border Background="{TemplateBinding Background}" CornerRadius="7"/>
                                <Track x:Name="PART_Track" IsDirectionReversed="True">
                                    <Track.DecreaseRepeatButton>
                                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageUpCommand"/>
                                    </Track.DecreaseRepeatButton>
                                    <Track.Thumb>
                                        <Thumb Style="{StaticResource ScrollBarThumb}" Margin="2"/>
                                    </Track.Thumb>
                                    <Track.IncreaseRepeatButton>
                                        <RepeatButton Style="{StaticResource ScrollBarPageButton}" Command="ScrollBar.PageDownCommand"/>
                                    </Track.IncreaseRepeatButton>
                                </Track>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="GroupBox">
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="FontFamily" Value="{StaticResource ModernFontFamily}"/>
        <Setter Property="FontSize" Value="{StaticResource ModernBaseFontSize}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="GroupBox">
                    <Grid SnapsToDevicePixels="true">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0"
                                Background="Transparent" 
                                BorderBrush="Transparent"
                                BorderThickness="0" 
                                Margin="2,0,0,3">
                            <ContentPresenter ContentSource="Header"
                                              RecognizesAccessKey="True"
                                              TextElement.Foreground="{StaticResource ModernAccentBrush}"
                                              TextElement.FontWeight="{StaticResource ModernFontWeightSemiBold}"
                                              Margin="3,1,3,1"/>
                        </Border>

                        <Border Grid.Row="1"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Background="Transparent" CornerRadius="3">
                            <ContentPresenter Margin="{TemplateBinding Padding}" ContentSource="Content"/>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Card Style -->
    <Style x:Key="ModernCard" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource ModernCardBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ModernBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="CornerRadius" Value="8"/>
        <Setter Property="Padding" Value="20"/>
        <Setter Property="Margin" Value="8"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect BlurRadius="10" ShadowDepth="2" Direction="270" Color="Black" Opacity="0.2"/>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Icon Button Style -->
    <Style x:Key="IconButtonStyle" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="Width" Value="40"/>
        <Setter Property="Height" Value="40"/>
        <Setter Property="Padding" Value="8"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
    </Style>

    <!-- Navigation RadioButton Style -->
    <Style x:Key="NavigationRadioButton" TargetType="RadioButton">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource ModernForegroundBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="12,8"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RadioButton">
                    <Border x:Name="border" 
                            Background="{TemplateBinding Background}"
                            BorderThickness="0"
                            CornerRadius="6">
                        <ContentPresenter HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Margin="{TemplateBinding Padding}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ModernControlMouseOverBrush}"/>
                        </Trigger>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource ModernAccentBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource ModernAccentContrastBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <!-- Status Indicator Style -->
    <Style x:Key="StatusIndicator" TargetType="Ellipse">
        <Setter Property="Width" Value="12"/>
        <Setter Property="Height" Value="12"/>
        <Setter Property="Margin" Value="4"/>
        <Setter Property="Fill" Value="{StaticResource ModernSecondaryTextBrush}"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding Status}" Value="Running">
                <Setter Property="Fill" Value="{StaticResource ModernSuccessBrush}"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding Status}" Value="Stopped">
                <Setter Property="Fill" Value="{StaticResource ModernErrorBrush}"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding Status}" Value="Starting">
                <Setter Property="Fill" Value="{StaticResource ModernWarningBrush}"/>
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard RepeatBehavior="Forever">
                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                           From="1" To="0.3" Duration="0:0:1"
                                           AutoReverse="True"/>
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
            </DataTrigger>
        </Style.Triggers>
    </Style>

</ResourceDictionary>